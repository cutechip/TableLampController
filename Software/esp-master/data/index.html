<html><head><meta name="viewport"content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><style>.title-box{height:40px;background:#0b1821;color:white}.center{display:flex;justify-content:center;align-items:center}.wifi--box{margin:20px;background:white;border-radius:15px;padding:15px}.wifi-item{display:flex;border:solid 1px#8d8d8d;color:#8d8d8d;font-size:14px;border-radius:5px;margin-top:10px;padding:5px;cursor:pointer;justify-content:flex-start;flex-direction:row}.btn{height:40px;background:#2eba97;color:white;margin:20px;width:80%;border:#f3f3f3}.title{color:#797979;font-size:16px;margin-bottom:5px}.input{height:40px;border-radius:5px;width:100%;padding-left:10px}.input-box{margin-top:20px;margin-bottom:10px}.wifi-name{flex:2}.rssi{color:red}</style></head><body style="background: #f3f3f3;"><div class="title-box center">设备配网</div><div class="wifi--box"><div><div class="title">WIFI列表</div><div id="wifi-list"></div></div><form id="wifi"action="./save"method="post"><div class="input-box"><div class="title">WIFI名称</div><div><input class="input"id="ssid"name="ssid"type="text"placeholder="请输入WIFI名称"/></div></div><div class="input-box"><div class="title">WIFI密码</div><div><input class="input"name="pwd"type="text"placeholder="请输入WIFI名称"/></div></div></div></form><div class="center"><button class="btn"type="submit"onclick="save()">保存</button></div></body><script>var xhr=new XMLHttpRequest();xhr.open('GET','./getWifiList',true);let list=[];xhr.onreadystatechange=function(){if(xhr.readyState!==4||xhr.status!==200){return}list=JSON.parse(xhr.responseText);for(var i=0;i<list.length;i++){document.getElementById('wifi-list').insertAdjacentHTML('afterend','<div class="wifi-item" onclick="select('+i+')"><div class="wifi-name">'+list[i].name+'</div><div class="rssi">rssi:'+list[i].rssi+'</div></div>')}};xhr.send();function select(i){document.getElementById('ssid').value=list[i].name}function save(){document.getElementById('wifi').submit()}</script></html>